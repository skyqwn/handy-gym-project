extends includes/layout
include mixins/postCardBlock

block content
    .modalContainer
        .modalWrapper
            .modal
                .modal__title 검색
                form(action="/post" method="get")
                    input(name="searchTerm" value=renderQuery.searchTerm placeholder="제목을 검색해보세요")
                    select(name="category")
                        - let i = 0;
                        - const arr = ["모두","자유","질문","공유","리뷰","Flex"]
                        while i < arr.length
                            option(value=arr[i] selected=(renderQuery.category === arr[i] ? true : undefined))=arr[i]
                            - i++
                    .labelContainer
                        label
                            input(type="checkbox" name="orderByRecommend" value="on" checked=renderQuery.isRecommend)
                            span 추천순
                    a(href="/post").btn.secondary 초기화
                    button.btn.primary 검색
    .container.pageContainer
        .pageHead
            .btn.secondary#modalBtn 검색
            a(href="/post/upload") 
                .btn.primary 업로드
        .postWrapper
            each post in posts
                +postCardBlock({
                    _id:post._id,
                    title:post.title,
                    category:post.category,
                    commentLength:post.comments.length,
                    likeLength:post.like_users.length,
                    createdAt:post.createdAt,
                    creator:post.creator
                })
    
        div(id=totalPage class="jsPageContainer pagination")
    
    script(src="/static/js/pagination.js") 
    script(src="/static/js/createModal.js") 
    script(src="/static/js/convertDate.js") 