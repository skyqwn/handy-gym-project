"use strict";var searchAddressBtn=document.getElementById("searchAddressBtn"),result=document.getElementById("result"),layer=document.getElementById("postcodeLayer"),cancelBtn=document.getElementById("postcodeCancelBtn"),addressInput=document.querySelector("input[name=address]"),locationInput=document.querySelector("input[name=location]"),mapContainer=document.getElementById("kakaoMap"),geocoder=new daum.maps.services.Geocoder,mapOption={center:new daum.maps.LatLng(37.537187,127.005476),level:5},map=new daum.maps.Map(mapContainer,mapOption),marker=new daum.maps.Marker({position:new daum.maps.LatLng(37.537187,127.005476),map:map}),paintMap=function(e,n){mapContainer.style.display="block",map.relayout();e=new daum.maps.LatLng(e,n);map.setCenter(e),marker.setPosition(e)},paintInitMap=function(){paintAddress(addressInput.value),addressInput.value?geocoder.addressSearch(addressInput.value,handleGeocoder):navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.longitude,e=e.coords.latitude;paintMap(e,n)})},paintAddress=function(e){result.innerHTML="";var n=document.createElement("div");n.innerText=e,result.appendChild(n)},cancel=function(){layer.style.display="none"},handleGeocoder=function(e,n){var e=e[0],a=e.y,e=e.x;paintMap(a,e)},show=function(){new daum.Postcode({oncomplete:function(e){geocoder.addressSearch(e.address,handleGeocoder),paintAddress(e.roadAddress),addressInput.value=e.roadAddress,locationInput.value=e.sido+" "+e.sigungu+" "+e.bname}}).embed(layer),layer.style.display="block"},init=function(){paintInitMap(),searchAddressBtn.addEventListener("click",show),cancelBtn.addEventListener("click",cancel)};init();